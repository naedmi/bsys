# Homework (Simulation) Chapter 20

> **This fun little homework tests if you understand how a multi-level page table works. And yes, there is some debate over the use of the term fun in the previous sentence. The program is called: `paging-multilevel-translate.py`**
>
> **Some basic assumptions:**
>
> - **The page size is an unrealistically-small 32 bytes**
> - **The virtual address space for the process in question (assume there is only one) is 1024 pages, or 32 KB**
> - **physical memory consists of 128 pages**
>
> **Thus, a virtual address needs 15 bits (5 for the offset, 10 for the VPN). A physical address requires 12 bits (5 offset, 7 for the PFN).**
>
> **The system assumes a multi-level page table. Thus, the upper five bits of a virtual address are used to index into a page directory; the page directory entry (PDE), if valid, points to a page of the page table. Each page table page holds 32 page-table entries (PTEs). Each PTE, if valid, holds the desired translation (physical frame number, or PFN) of the virtual page in question.**

1. **With a linear page table, you need a single register to locate the page table, assuming that hardware does the lookup upon a TLB miss. How many registers do you need to locate a two-level page table? A three-level table?**

   Still a single page directory base register (PDBR in Figure 20.6), which points to the pages of the 2nd level page directory, (...).

2. **Use the simulator to perform translations given random seeds 0, 1, and 2, and check your answers using the -c flag. How many memory references are needed to perform each lookup?**

   ```sh
   ```

   

3. Blablub

   
